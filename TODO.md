# üìã TODO ‚Äî Booking Platform

*–û–Ω–æ–≤–ª–µ–Ω–æ: 2026-02-09*

---

## üî• MVP (–Ω–∞–π–±–ª–∏–∂—á–µ)

### UI/UX
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –º–æ–±—ñ–ª—å–Ω–∏–π –≤–∏–≥–ª—è–¥ –≤—Å—ñ—Ö —Å—Ç–æ—Ä—ñ–Ω–æ–∫
- [x] –ü–æ–≤—Ç–æ—Ä–Ω–∏–π –∑–∞–ø–∏—Å –∫–ª—ñ—î–Ω—Ç–∞ (–∫–Ω–æ–ø–∫–∞ –≤ –∫–∞—Ä—Ç—Ü—ñ) ‚úÖ

### –ù–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è
- [ ] Push-–Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è –ø—Ä–æ –∑–∞–ø–∏—Å (–∑–∞ 24–≥, –∑–∞ 1–≥)
- [ ] Telegram-–±–æ—Ç –¥–ª—è –∫–ª—ñ—î–Ω—Ç—ñ–≤ (webhook –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏)

---

## üåê –†–ï–î–ê–ö–¢–û–† –°–ê–ô–¢–£-–í–Ü–ó–ò–¢–ö–ò ‚úÖ –ó–†–û–ë–õ–ï–ù–û

**–°—Ç–æ—Ä—ñ–Ω–∫–∞:** `/setup/website`

**–©–æ —Ä–µ–¥–∞–≥—É—î—Ç—å—Å—è:**
- [x] –ù–∞–∑–≤–∞, –æ–ø–∏—Å, –ª–æ–≥–æ—Ç–∏–ø, —Ñ–æ—Ç–æ –≥–∞–ª–µ—Ä–µ—ó
- [x] –ê–¥—Ä–µ—Å–∞, –∫–æ–Ω—Ç–∞–∫—Ç–∏, –≥–æ–¥–∏–Ω–∏ —Ä–æ–±–æ—Ç–∏
- [x] –¢–µ–º–∞/–∫–æ–ª—ñ—Ä

**–ê–≤—Ç–æ–ø—ñ–¥—Ç—è–≥—É—î—Ç—å—Å—è:**
- –¶—ñ–Ω–∏ –∑ –∫–∞—Ç–∞–ª–æ–≥—É
- –ú–∞—Å—Ç–µ—Ä–∏ –∑ –∫–æ–º–∞–Ω–¥–∏
- –í—ñ–ª—å–Ω—ñ —Å–ª–æ—Ç–∏
- –í—ñ–¥–≥—É–∫–∏

---

## üîß –¢–ï–•–ù–Ü–ß–ù–ò–ô –ë–û–†–ì (–ø—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É)

### –ö–æ–¥
- [ ] –ü—Ä–∏–±—Ä–∞—Ç–∏ `@ts-nocheck` –∑ 13 —Ñ–∞–π–ª—ñ–≤ (calendar, BookingModal, salon page —Ç–∞ —ñ–Ω.)
- [ ] –ó–∞–º—ñ–Ω–∏—Ç–∏ `any` —Ç–∏–ø–∏ –≤ admin endpoints –Ω–∞ Prisma types
- [ ] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤: `/api/booking` vs `/api/bookings` (—Ä–æ–±–ª—è—Ç—å —Å—Ö–æ–∂–µ, —Ä–∏–∑–∏–∫ —Ä–æ–∑—Å–∏–Ω—Ö—Ä–æ–Ω—É)

### –î–∞–Ω—ñ
- [ ] Client `visitsCount` / `totalSpent` ‚Äî –¥–µ–∫—Ä–µ–º–µ–Ω—Ç—É–≤–∞—Ç–∏ –ø—Ä–∏ —Å–∫–∞—Å—É–≤–∞–Ω–Ω—ñ/–≤–∏–¥–∞–ª–µ–Ω–Ω—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
- [ ] Dashboard: –æ–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ –≤–∞–∂–∫–∏–π –∑–∞–ø–∏—Ç (categories+services –¥–æ—Å—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –ø–æ–≤–Ω—ñ—Å—Ç—é)
- [ ] Auto-complete –±—Ä–æ–Ω—é–≤–∞–Ω—å –∑ –∞–¥–º—ñ–Ω-–∫–∞–ª–µ–Ω–¥–∞—Ä—è (–∑–∞—Ä–∞–∑ —Ç—ñ–ª—å–∫–∏ staff dashboard + staff calendar)

### –ë–µ–∑–ø–µ–∫–∞ (Phase 2)
- [ ] Redis rate limiting (–¥–ª—è multi-instance production)
- [ ] Audit log –Ω–∞ –≤—Å—ñ admin –¥—ñ—ó (–∑–∞—Ä–∞–∑ —Ç—ñ–ª—å–∫–∏ —á–∞—Å—Ç–∫–æ–≤–æ)
- [ ] Cloudinary signed uploads –∑–∞–º—ñ—Å—Ç—å direct
- [ ] –û–±–º–µ–∂–∏—Ç–∏ direct DB access (connection pooling, read replicas)

### –Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- [ ] –ü—ñ–¥–¥–æ–º–µ–Ω–∏ `slug.tholim.com` (DNS wildcard + middleware rewrite)
- [ ] –ü—É–±–ª—ñ—á–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ —è–∫ –æ–∫—Ä–µ–º–∏–π SSG/ISR (–∞–±–æ edge-cached)
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —Å—Ç–∞—Ç–∏—á–Ω–æ–≥–æ –æ–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω–∏–∫–∞ –¥–ª—è —Å–∞–ª–æ–Ω—É
- [ ] `telegramChatId` –¥–ª—è Master –º–æ–¥–µ–ª—ñ ‚Üí OTP —á–µ—Ä–µ–∑ Telegram –¥–ª—è –º–∞—Å—Ç–µ—Ä—ñ–≤
- [ ] –û—á–∏—Å—Ç–∫–∞ –æ—Å–∏—Ä–æ—Ç—ñ–ª–∏—Ö services –∫–æ–ª–∏ MasterService –≤–∏–¥–∞–ª–µ–Ω–æ —ñ service –±—É–≤ `isActive: false`

### UX
- [ ] `paletteId` ‚Äî —Ñ—Ä–æ–Ω—Ç –ø—É–±–ª—ñ—á–Ω–æ—ó —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ç–µ–º—É (–¥–∞–Ω—ñ —î, —Ä–µ–Ω–¥–µ—Ä –Ω—ñ)
- [ ] –ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ —Å–µ—Ä–≤–µ—Ä–Ω—ñ –ø–æ–º–∏–ª–∫–∏ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –∫—Ä–∞—Å–∏–≤–æ (–∑–∞—Ä–∞–∑ `alert()`)

---

## üí∞ –ë–Ü–ó–ù–ï–°-–§–Ü–ß–Ü (–ø–æ—Ç—ñ–º)

### –†–æ–∑—É–º–Ω–∏–π —Å–∫–ª–∞–¥ + –ü–æ—Å—Ç–∞–≤–∫–∏
- [ ] –°–∫–ª–∞–¥ –º–∞—Å—Ç–µ—Ä–∞ (–º–∞—Ç–µ—Ä—ñ–∞–ª–∏: —à–∞–º–ø—É–Ω—å, —Ñ–∞—Ä–±–∞, –æ–ª—ñ—è)
- [ ] –í–∏—Ç—Ä–∞—Ç–∞ –Ω–∞ –ø–æ—Å–ª—É–≥—É (–∞–≤—Ç–æ—Å–ø–∏—Å–∞–Ω–Ω—è)
- [ ] –û–ø–æ–≤—ñ—â–µ–Ω–Ω—è "–∑–∞–∫—ñ–Ω—á—É—î—Ç—å—Å—è"
- [ ] –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä—ñ–≤ –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∞
- [ ] –ê–≤—Ç–æ-–ø–æ–ø–æ–≤–Ω–µ–Ω–Ω—è (–∫–Ω–æ–ø–∫–∞ ‚Üí –∑–∞—è–≤–∫–∞)
- **–ú–æ–Ω–µ—Ç–∏–∑–∞—Ü—ñ—è:** –º–∞—Ä–∂–∞ 10-30%

### –û–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç–∞
- [ ] LiqPay –∞–±–æ Monobank —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
- [ ] –ü–µ—Ä–µ–¥–æ–ø–ª–∞—Ç–∞ –ø—Ä–∏ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—ñ
- [ ] –ê–≤—Ç–æ–ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è –ø—Ä–∏ —Å–∫–∞—Å—É–≤–∞–Ω–Ω—ñ

### –ó–≤—ñ—Ç–∏ / –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ / –ü—Ä–æ–¥–∞–∂—ñ
- [ ] –†–æ–∑–∫—Ä–∏—Ç–∏ —Å—Ö–æ–≤–∞–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∫–æ–ª–∏ –≥–æ—Ç–æ–≤—ñ
- [ ] –§—ñ–Ω–∞–Ω—Å–æ–≤—ñ –∑–≤—ñ—Ç–∏ (–≤–∏—Ä—É—á–∫–∞, —Å–µ—Ä–µ–¥–Ω—ñ–π —á–µ–∫)
- [ ] SMS/Email –∫–∞–º–ø–∞–Ω—ñ—ó
- [ ] –ü—Ä–æ–≥—Ä–∞–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç—ñ

---

## ‚úÖ –ó–†–û–ë–õ–ï–ù–û

### 03-04.02.2026
- [x] –ú—ñ–≥—Ä–∞—Ü—ñ—è Vercel ‚Üí Railway (–ø–æ–≤–Ω–∞)
- [x] NEXTAUTH_URL –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ
- [x] CSV —ñ–º–ø–æ—Ä—Ç –∫–ª—ñ—î–Ω—Ç—ñ–≤ + MigrationBanner
- [x] –ö–∞—Ä—Ç–∫–∞ –∫–ª—ñ—î–Ω—Ç–∞ (slide-over)
- [x] –ó–∞–ø–∏—Å –¥–ª—è –∫–æ–ª–µ–≥–∏ (ColleagueBookingModal)
- [x] –ë–ª–æ–∫—É–≤–∞–Ω–Ω—è —á–∞—Å—É –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—ñ
- [x] –°—Ö–æ–≤–∞—Ç–∏ –∑–∞–≥–ª—É—à–∫–∏ (marketing, reports, addons, sales)
- [x] –ö–Ω–æ–ø–∫–∞ "–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Å–∞–π—Ç" –≤ –¥–∞—à–±–æ—Ä–¥—ñ
- [x] usePreservedModal ‚Äî –º–æ–¥–∞–ª–∫–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å —Å—Ç–∞–Ω 3 —Ö–≤
- [x] –§—ñ–∫—Å–∏ –º–æ–¥–∞–ª–∫–∏ –∫–æ–ª–µ–≥–∏ (skeleton, –¥–∞—Ç–∏, —Ç–µ–ª–µ—Ñ–æ–Ω)
- [x] –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Å—É (–ø–æ—Å–ª—É–≥–∞/–¥–∞—Ç–∞/—á–∞—Å)
- [x] +—á–∞—Å –¥–æ –∑–∞–ø–∏—Å—É (extraTime)
- [x] –ê–≤—Ç–æ-–±—É—Ñ–µ—Ä –º—ñ–∂ –∑–∞–ø–∏—Å–∞–º–∏ (0-30 —Ö–≤)
- [x] –ö–Ω–æ–ø–∫–∏ –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è +10/15/30 —Ö–≤
- [x] Owner/admin –∑–∞–ø–∏—Å–∏ –¥–ª—è –≤—Å—ñ—Ö –º–∞—Å—Ç–µ—Ä—ñ–≤
- [x] –†–µ–¥–∞–∫—Ç–æ—Ä —Å–∞–π—Ç—É-–≤—ñ–∑–∏—Ç–∫–∏ `/setup/website`
- [x] –ü–æ–≤—Ç–æ—Ä–Ω–∏–π –∑–∞–ø–∏—Å –∫–ª—ñ—î–Ω—Ç–∞ (RepeatBookingModal)

### 09.02.2026 ‚Äî Security Audit #4
- [x] 11 endpoints –±–µ–∑ auth –∑–∞–∫—Ä–∏—Ç–æ (services, categories, notifications, audit-log, invitations, telegram/notify)
- [x] `ensureSalonExists` –≤–∏–¥–∞–ª–µ–Ω–æ (—Å—Ç–≤–æ—Ä—é–≤–∞–≤ –¥–µ–º–æ-—Å–∞–ª–æ–Ω–∏ –∑ –ø–æ–≤—ñ—Ç—Ä—è)
- [x] `passwordHash` –ø—Ä–∏–±—Ä–∞–Ω–æ –∑ —É—Å—ñ—Ö –ø—É–±–ª—ñ—á–Ω–∏—Ö –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- [x] Full salon isolation: –≤—Å—ñ endpoints –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å `salonId` –∑ –ë–î
- [x] Public booking: `POST /api/public/booking` (rate limit, overlap check, validation)
- [x] `/api/salon/[slug]`: explicit select, `onboardingCompleted` gate, owner preview
- [x] Register: temp slug, —Ä–µ–∞–ª—å–Ω–∏–π –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –ø—Ä–∏ onboarding
- [x] `CRON_SECRET` + `EMAIL_FROM` –Ω–∞ Railway
- [x] Fallback `NEXTAUTH_SECRET` –≤–∏–¥–∞–ª–µ–Ω–æ
- [x] `X-Frame-Options: SAMEORIGIN` (–¥–ª—è preview iframe)
- [x] `DEMO_SALON_ID` —Ö–∞—Ä–¥–∫–æ–¥ –≤–∏–¥–∞–ª–µ–Ω–æ –∑ notification-bell
- [x] OTP –∫–æ–¥ –ø—Ä–∏–±—Ä–∞–Ω–æ –∑ `console.log`
- [x] Email from —É–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–æ: `noreply@tholim.com`
- [x] Slug uniqueness validation –≤ `PATCH /api/salon`
- [x] –ö–Ω–æ–ø–∫–∞ ¬´–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Å–∞–π—Ç¬ª –ø—Ä–∏—Ö–æ–≤–∞–Ω–∞ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –æ–Ω–±–æ—Ä–¥–∏–Ω–≥—É
- [x] `masterId` ‚àà `salonId` –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤ `/api/slots`
- [x] `masterId` + `serviceId` ownership –≤ `POST /api/booking`
- [x] Inventory endpoints: `salonId` –∑ –ë–î + product ownership –Ω–∞ PUT/DELETE
- [x] Telegram notify: inline –∑–∞–º—ñ—Å—Ç—å broken HTTP fetch

### –†–∞–Ω—ñ—à–µ
- [x] –ë–∞–∑–æ–≤–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ Next.js + Prisma
- [x] –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è (NextAuth)
- [x] –ö–∞—Ç–∞–ª–æ–≥ –ø–æ—Å–ª—É–≥ —ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π
- [x] –ö–æ–º–∞–Ω–¥–∞ –º–∞—Å—Ç–µ—Ä—ñ–≤
- [x] –ö–∞–ª–µ–Ω–¥–∞—Ä –∑–∞–ø–∏—Å—ñ–≤ (drag & drop)
- [x] –ü—É–±–ª—ñ—á–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ —Å–∞–ª–æ–Ω—É `/salon/[slug]`
- [x] –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ —Å–∞–π—Ç (BookingModal)
- [x] –ö–∞–±—ñ–Ω–µ—Ç –º–∞—Å—Ç–µ—Ä–∞ `/staff/*`
- [x] –°—É–ø–µ—Ä–∞–¥–º—ñ–Ω `/admin/*`
- [x] Cloudinary –¥–ª—è —Ñ–æ—Ç–æ

---

## üéØ –ü–û–ó–ò–¶–Ü–û–ù–£–í–ê–ù–ù–Ø

- **Dikidi –ø—ñ—à–ª–∏ –∑ –£–∫—Ä–∞—ó–Ω–∏** = –Ω—ñ—à–∞ –≤—ñ–ª—å–Ω–∞
- **Freemium:** –±–∞–∑–∞ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ, –¥–æ–ø–∏ 299-499 –≥—Ä–Ω/–º—ñ—Å
- **–§–æ–∫—É—Å:** –ø—Ä–æ—Å—Ç–æ—Ç–∞ + Telegram + —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π —Ä–∏–Ω–æ–∫
- **–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–∏:** Fresha (–∫–æ–º—ñ—Å—ñ—ó), Altegio (–¥–æ—Ä–æ–≥–æ, —Å–∫–ª–∞–¥–Ω–æ)
