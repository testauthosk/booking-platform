# üìä Dashboard Redesign

---

## üåä –•–≤–∏–ª—è 1 ‚Äî "–°—å–æ–≥–æ–¥–Ω—ñ" + UI –∫–∞—Ä–∫–∞—Å

### 1.1 –ë–µ–∫–µ–Ω–¥: `GET /api/dashboard/today`
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–∞–π–ª `src/app/api/dashboard/today/route.ts`
- [ ] Auth: getServerSession ‚Üí user ‚Üí salonId
- [ ] Query 1: Booking where {salonId, date: today, status != CANCELLED} ‚Üí count total, count COMPLETED, count remaining
- [ ] Query 2: sum(price) —Ç–∏—Ö —Å–∞–º–∏—Ö –∑–∞–ø–∏—Å—ñ–≤ ‚Üí –≤–∏—Ä—É—á–∫–∞
- [ ] Query 3: Booking where {salonId, date: today, status: CONFIRMED|PENDING, time > now} orderBy time ASC limit 1 ‚Üí –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫–ª—ñ—î–Ω—Ç (join Client ‚Üí name, phone)
- [ ] Query 4: Master where {salonId, isActive: true} + –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ ‚Üí —î –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –∑–∞—Ä–∞–∑? ‚Üí status working/free + currentClient + nextAt
- [ ] Return JSON: {bookings: {total, completed, remaining, cancelled}, revenue, nextClient, masters: [...]}
- [ ] –¢–µ—Å—Ç —á–µ—Ä–µ–∑ curl

### 1.2 –§—Ä–æ–Ω—Ç–µ–Ω–¥: –∫–∞—Ä–∫–∞—Å —Å—Ç–æ—Ä—ñ–Ω–∫–∏
- [ ] –í–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç–∞—Ä–∏–π –∫–æ–¥ `src/app/(app)/dashboard/page.tsx`
- [ ] –ù–æ–≤–∏–π layout: `<div className="p-4 lg:p-6 max-w-[1200px] mx-auto">`
- [ ] Greeting –∫–æ–º–ø–æ–Ω–µ–Ω—Ç: –≤–∏–∑–Ω–∞—á–∏—Ç–∏ —á–∞—Å –¥–æ–±–∏ (—Ä–∞–Ω–æ–∫/–¥–µ–Ω—å/–≤–µ—á—ñ—Ä) + session.user.name + —Å—å–æ–≥–æ–¥–Ω—ñ—à–Ω—è –¥–∞—Ç–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é
- [ ] `pb-[68px]` –¥–ª—è –º–æ–±—ñ–ª—å–Ω–æ–≥–æ –Ω–∞–≤–±–∞—Ä—É
- [ ] State: loading + data + error
- [ ] useEffect ‚Üí fetch `/api/dashboard/today`
- [ ] Skeleton: 4 –ø—É–ª—å—Å—É—é—á–∏—Ö –ø—Ä—è–º–æ–∫—É—Ç–Ω–∏–∫–∏ –∑–∞–º—ñ—Å—Ç—å –∫–∞—Ä—Ç–æ–∫

### 1.3 –§—Ä–æ–Ω—Ç–µ–Ω–¥: –∫–∞—Ä—Ç–∫–∞ "–ó–∞–ø–∏—Å–∏ —Å—å–æ–≥–æ–¥–Ω—ñ"
- [ ] Card –∫–æ–º–ø–æ–Ω–µ–Ω—Ç: —ñ–∫–æ–Ω–∫–∞ Calendar + "–ó–∞–ø–∏—Å–∏ —Å—å–æ–≥–æ–¥–Ω—ñ"
- [ ] –í–µ–ª–∏–∫–∏–π —Ç–µ–∫—Å—Ç: `{completed} / {total}`
- [ ] –ü—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä: completed/total —É %
- [ ] –ü—ñ–¥–ø–∏—Å: "–ó–∞–ª–∏—à–∏–ª–æ—Å—å: {remaining}" —Å—ñ—Ä–∏–º —Ç–µ–∫—Å—Ç–æ–º
- [ ] –Ø–∫—â–æ total=0: "–°—å–æ–≥–æ–¥–Ω—ñ –∑–∞–ø–∏—Å—ñ–≤ –Ω–µ–º–∞—î"

### 1.4 –§—Ä–æ–Ω—Ç–µ–Ω–¥: –∫–∞—Ä—Ç–∫–∞ "–í–∏—Ä—É—á–∫–∞ —Å—å–æ–≥–æ–¥–Ω—ñ"
- [ ] Card: —ñ–∫–æ–Ω–∫–∞ DollarSign + "–í–∏—Ä—É—á–∫–∞ —Å—å–æ–≥–æ–¥–Ω—ñ"
- [ ] –í–µ–ª–∏–∫–∏–π —Ç–µ–∫—Å—Ç: `{revenue} ‚Ç¥`
- [ ] –Ø–∫—â–æ 0: –ø–æ–∫–∞–∑–∞—Ç–∏ "0 ‚Ç¥"

### 1.5 –§—Ä–æ–Ω—Ç–µ–Ω–¥: –∫–∞—Ä—Ç–∫–∞ "–ù–∞—Å—Ç—É–ø–Ω–∏–π –∫–ª—ñ—î–Ω—Ç"
- [ ] Card: —ñ–∫–æ–Ω–∫–∞ User + "–ù–∞—Å—Ç—É–ø–Ω–∏–π"
- [ ] –Ü–º'—è –∫–ª—ñ—î–Ω—Ç–∞ –∂–∏—Ä–Ω–∏–º
- [ ] –ß–∞—Å + –ø–æ—Å–ª—É–≥–∞ + –º–∞–π—Å—Ç–µ—Ä —É —Ä—è–¥–æ–∫
- [ ] –ö–Ω–æ–ø–∫–∞-—ñ–∫–æ–Ω–∫–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—É ‚Üí `tel:{phone}`
- [ ] –Ø–∫—â–æ –Ω–µ–º–∞—î: "–í—Å–µ –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ –∑–∞–≤–µ—Ä—à–µ–Ω–æ üéâ"

### 1.6 –§—Ä–æ–Ω—Ç–µ–Ω–¥: –±–ª–æ–∫ "–ú–∞–π—Å—Ç—Ä–∏ –∑–∞—Ä–∞–∑"
- [ ] Card –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É (desktop ‚Äî —Ä—è–¥–æ–∫, mobile ‚Äî —Å–ø–∏—Å–æ–∫)
- [ ] –ö–æ–∂–µ–Ω –º–∞—Å—Ç–µ—Ä: –∞–≤–∞—Ç–∞—Ä-–∫–æ–ª–æ –∑ —ñ–Ω—ñ—Ü—ñ–∞–ª–æ–º + —ñ–º'—è + —Å—Ç–∞—Ç—É—Å
- [ ] –ó–µ–ª–µ–Ω–∞ –∫—Ä–∞–ø–∫–∞ + "–ñ—ñ–Ω–æ—á–∞ —Å—Ç—Ä–∏–∂–∫–∞ –¥–æ 15:00" ‚Äî —è–∫—â–æ working
- [ ] –°—ñ—Ä–∞ –∫—Ä–∞–ø–∫–∞ + "–í—ñ–ª—å–Ω–∞" ‚Äî —è–∫—â–æ free
- [ ] –ë–µ–∑ –∫—Ä–∞–ø–∫–∏ + "–í–∏—Ö—ñ–¥–Ω–∏–π" ‚Äî —è–∫—â–æ off (–Ω–µ –ø—Ä–∞—Ü—é—î —Å—å–æ–≥–æ–¥–Ω—ñ)

### 1.7 Commit + –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
- [ ] `git add -A && git commit && git push`
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞ Glamour Studio —á–µ—Ä–µ–∑ curl
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ–π —Å—Ç–∞–Ω

---

## üåä –•–≤–∏–ª—è 2 ‚Äî –¢–∏–∂–Ω–µ–≤—ñ –ø–æ–∫–∞–∑–Ω–∏–∫–∏

### 2.1 –ë–µ–∫–µ–Ω–¥: `GET /api/dashboard/week`
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–∞–π–ª `src/app/api/dashboard/week/route.ts`
- [ ] Auth: session ‚Üí salonId
- [ ] –í–∏–∑–Ω–∞—á–∏—Ç–∏ –¥—ñ–∞–ø–∞–∑–æ–Ω: –ø–æ—Ç–æ—á–Ω–∏–π —Ç–∏–∂–¥–µ–Ω—å (–ø–Ω-–Ω–¥) + –º–∏–Ω—É–ª–∏–π —Ç–∏–∂–¥–µ–Ω—å
- [ ] Query: Booking where {salonId, date in range, status != CANCELLED}
- [ ] –ü–æ—Ä–∞—Ö—É–≤–∞—Ç–∏: revenue this/prev, bookings this/prev
- [ ] Query: Client where {salonId, createdAt this week} ‚Üí count –Ω–æ–≤–∏—Ö
- [ ] –ü–æ—Ä–∞—Ö—É–≤–∞—Ç–∏: avgCheck = revenue / bookings
- [ ] –ü–æ—Ä–∞—Ö—É–≤–∞—Ç–∏: % –∑–º—ñ–Ω–∏ revenue, bookings
- [ ] Return JSON: {revenue, revenuePrev, revenueChange, bookings, bookingsPrev, bookingsChange, newClients, avgCheck}

### 2.2 –§—Ä–æ–Ω—Ç–µ–Ω–¥: 4 –º—ñ–Ω—ñ-–∫–∞—Ä—Ç–∫–∏
- [ ] Grid: 2x2 –Ω–∞ mobile, 4x1 –Ω–∞ desktop
- [ ] –ö–∞—Ä—Ç–∫–∞ "–í–∏—Ä—É—á–∫–∞": —á–∏—Å–ª–æ + ChangeIndicator (‚Üë –∑–µ–ª–µ–Ω–∏–π / ‚Üì —á–µ—Ä–≤–æ–Ω–∏–π)
- [ ] –ö–∞—Ä—Ç–∫–∞ "–ó–∞–ø–∏—Å—ñ–≤": —á–∏—Å–ª–æ + ChangeIndicator
- [ ] –ö–∞—Ä—Ç–∫–∞ "–ù–æ–≤–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤": —á–∏—Å–ª–æ (–±–µ–∑ %)
- [ ] –ö–∞—Ä—Ç–∫–∞ "–°–µ—Ä–µ–¥–Ω—ñ–π —á–µ–∫": —á–∏—Å–ª–æ ‚Ç¥
- [ ] –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–µ–∫—Ü—ñ—ó: "–¶–µ–π —Ç–∏–∂–¥–µ–Ω—å"

### 2.3 –ê–Ω—ñ–º–∞—Ü—ñ—è count-up
- [ ] –ü—Ä–∏ –ø–µ—Ä—à–æ–º—É —Ä–µ–Ω–¥–µ—Ä—ñ: —á–∏—Å–ª–∞ –∞–Ω—ñ–º–æ–≤–∞–Ω–æ –∑—Ä–æ—Å—Ç–∞—é—Ç—å –≤—ñ–¥ 0 –¥–æ –∑–Ω–∞—á–µ–Ω–Ω—è
- [ ] –¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å: 800ms, easing: easeOut
- [ ] –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è: useEffect + requestAnimationFrame –∞–±–æ –ø—Ä–æ—Å—Ç–∏–π setInterval

### 2.4 Commit + –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
- [ ] –¢–µ—Å—Ç —á–µ—Ä–µ–∑ curl API
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- [ ] Commit + push

---

## üåä –•–≤–∏–ª—è 3 ‚Äî Smart Alerts

### 3.1 –ë–µ–∫–µ–Ω–¥: `GET /api/dashboard/alerts`
- [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–∞–π–ª `src/app/api/dashboard/alerts/route.ts`
- [ ] Auth: session ‚Üí salonId
- [ ] Alert 1 ‚Äî –ù–µ–ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω—ñ: Booking where {salonId, date: today|tomorrow, status: PENDING} ‚Üí count + –ø–µ—Ä—à—ñ 3
- [ ] Alert 2 ‚Äî –°–ø–ª—è—á—ñ –∫–ª—ñ—î–Ω—Ç–∏: Client where {salonId, visitsCount >= 2} + –æ—Å—Ç–∞–Ω–Ω—ñ–π Booking.date < 30 –¥–Ω—ñ–≤ —Ç–æ–º—É ‚Üí count
- [ ] Alert 3 ‚Äî –í—ñ–ª—å–Ω—ñ —Å–ª–æ—Ç–∏ –∑–∞–≤—Ç—Ä–∞: –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –º–∞—Å—Ç–µ—Ä–∞ –ø–æ—Ä–∞—Ö—É–≤–∞—Ç–∏ –∑–∞–π–Ω—è—Ç—ñ –≥–æ–¥–∏–Ω–∏ / —Ä–æ–±–æ—á—ñ –≥–æ–¥–∏–Ω–∏ ‚Üí –≤—ñ–ª—å–Ω–∏—Ö –≥–æ–¥–∏–Ω
- [ ] Alert 4 ‚Äî –ù–æ–≤—ñ –≤—ñ–¥–≥—É–∫–∏: Review where {salonId, createdAt > 7 –¥–Ω—ñ–≤ —Ç–æ–º—É} ‚Üí count + avgRating
- [ ] Return JSON: {alerts: [{type, title, count, items?, link}]}

### 3.2 –§—Ä–æ–Ω—Ç–µ–Ω–¥: –±–ª–æ–∫ —Å–ø–æ–≤—ñ—â–µ–Ω—å
- [ ] –ó–∞–≥–æ–ª–æ–≤–æ–∫: "–ü–æ—Ç—Ä–µ–±—É—î —É–≤–∞–≥–∏" –∑ —ñ–∫–æ–Ω–∫–æ—é –¥–∑–≤—ñ–Ω–æ—á–∫–∞
- [ ] –ö–æ–∂–µ–Ω alert = —Ä—è–¥–æ–∫: —ñ–∫–æ–Ω–∫–∞ + —Ç–µ–∫—Å—Ç + badge –∑ —á–∏—Å–ª–æ–º
- [ ] –Ü–∫–æ–Ω–∫–∏: üîî –Ω–µ–ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω—ñ, üò¥ —Å–ø–ª—è—á—ñ, üìÖ –≤—ñ–ª—å–Ω—ñ —Å–ª–æ—Ç–∏, ‚≠ê –≤—ñ–¥–≥—É–∫–∏
- [ ] –ö–ª—ñ–∫ ‚Üí –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è: pending ‚Üí /calendar, sleeping ‚Üí /clients, reviews ‚Üí /setup (–∞–±–æ –æ–∫—Ä–µ–º–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞)
- [ ] –Ø–∫—â–æ 0 alerts: "–í—Å–µ –ø—ñ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º ‚úÖ" –∑–µ–ª–µ–Ω–∏–º

### 3.3 Commit + –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞
- [ ] –¢–µ—Å—Ç –∫–æ–∂–Ω–æ–≥–æ alert –æ–∫—Ä–µ–º–æ
- [ ] Commit + push

---

## üåä –•–≤–∏–ª—è 4 ‚Äî –®–≤–∏–¥–∫—ñ –¥—ñ—ó + —Ñ—ñ–Ω—ñ—à

### 4.1 –ö–Ω–æ–ø–∫–∏ –¥—ñ–π
- [ ] –°–µ–∫—Ü—ñ—è –ø—ñ–¥ greeting –∞–±–æ –≤–Ω–∏–∑—É: 4 –∫–Ω–æ–ø–∫–∏ –≤ —Ä—è–¥
- [ ] "‚ûï –î–æ–¥–∞—Ç–∏ –∑–∞–ø–∏—Å" ‚Üí —ñ–º–ø–æ—Ä—Ç NewBookingModal, –≤—ñ–¥–∫—Ä–∏–≤–∞—î –π–æ–≥–æ
- [ ] "üö´ –ó–∞–±–ª–æ–∫—É–≤–∞—Ç–∏ —á–∞—Å" ‚Üí redirect /calendar (–∞–±–æ TimeBlock modal —è–∫—â–æ —î)
- [ ] "üìÖ –ö–∞–ª–µ–Ω–¥–∞—Ä" ‚Üí router.push('/calendar')
- [ ] "üîó –ü–æ–¥—ñ–ª–∏—Ç–∏—Å—å" ‚Üí navigator.clipboard.writeText(url) + toast "–ü–æ—Å–∏–ª–∞–Ω–Ω—è —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ"
- [ ] Mobile: –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∏–π —Å–∫—Ä–æ–ª –∫–Ω–æ–ø–æ–∫
- [ ] Desktop: 4 –≤ —Ä—è–¥

### 4.2 –ü–æ—Ä–æ–∂–Ω—ñ–π —Å—Ç–∞–Ω (onboarding prompt)
- [ ] –Ø–∫—â–æ salon.masters.length === 0: "–î–æ–¥–∞–π—Ç–µ –ø–µ—Ä—à–æ–≥–æ –º–∞—Å—Ç–µ—Ä–∞" –∑ –∫–Ω–æ–ø–∫–æ—é ‚Üí /team
- [ ] –Ø–∫—â–æ salon.services.length === 0: "–î–æ–¥–∞–π—Ç–µ –ø–æ—Å–ª—É–≥–∏" ‚Üí /catalogue
- [ ] –Ø–∫—â–æ bookings total === 0: "–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º –∑ –∫–ª—ñ—î–Ω—Ç–∞–º–∏" + URL + –∫–Ω–æ–ø–∫–∞ copy
- [ ] –Ü–ª—é—Å—Ç—Ä–∞—Ü—ñ—è –∞–±–æ –µ–º–æ–¥–∂—ñ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Å—Ç–∞–Ω—É

### 4.3 –§—ñ–Ω–∞–ª—å–Ω—ñ –ø—Ä–∞–≤–∫–∏
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ mobile (iPhone SE, Android)
- [ ] Dark mode ‚Äî –Ω—ñ, —É –Ω–∞—Å light only, –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–æ–Ω—Ç—Ä–∞—Å—Ç
- [ ] –¢–µ—Å—Ç –Ω–∞ Glamour Studio (—î –¥–∞–Ω—ñ)
- [ ] –¢–µ—Å—Ç –Ω–∞ –Ω–æ–≤–æ–º—É —Å–∞–ª–æ–Ω—ñ (–ø–æ—Ä–æ–∂–Ω—ñ–π)
- [ ] Performance: API –≤—ñ–¥–ø–æ–≤—ñ–¥—å < 500ms

### 4.4 Commit + deploy
- [ ] –§—ñ–Ω–∞–ª—å–Ω–∏–π commit
- [ ] Push ‚Üí Railway auto-deploy
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞ –ø—Ä–æ–¥—ñ

---

## –ü–æ—Ä—è–¥–æ–∫: 1 ‚Üí 2 ‚Üí 3 ‚Üí 4
–ö–æ–∂–Ω–∞ —Ö–≤–∏–ª—è = –æ–∫—Ä–µ–º–∏–π commit + –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –Ω–∞—Å—Ç—É–ø–Ω–æ—é.

## –ó–∞–ª–æ–∂–∏—Ç–∏ –Ω–∞ –º–∞–π–±—É—Ç–Ω—î (–Ω–µ —Ä–æ–±–∏–º–æ –∑–∞—Ä–∞–∑)
- Processing time (–ø–æ–¥–≤—ñ–π–Ω–∏–π –±—É–∫—ñ–Ω–≥)
- Waitlist (—á–µ—Ä–≥–∞ –Ω–∞ –∑–∞–π–Ω—è—Ç–∏–π —á–∞—Å)
- Recurring bookings
- Client retention score (% –ø–æ–≤–µ—Ä–Ω–µ–Ω—å –∑–∞ 90 –¥–Ω—ñ–≤)
- "–ü–æ—Ä–æ–∂–Ω—ñ –≥–æ–¥–∏–Ω–∏" AI-–ø—ñ–¥–∫–∞–∑–∫–∞
- Earnings per minute
- No-show protection (–¥–µ–ø–æ–∑–∏—Ç)
- –ß–∞—Ç –∑ –∫–ª—ñ—î–Ω—Ç–æ–º —á–µ—Ä–µ–∑ Telegram
